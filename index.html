<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CV / Lettre PWA WhatsApp</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#25D366">
<style>
body{font-family:Arial,sans-serif;padding:10px;background:#f0f8ff;}
input,textarea,button{width:100%;margin:5px 0;padding:8px;font-size:1rem;border:1px solid #1e90ff;border-radius:5px;}
textarea{min-height:80px;resize:vertical;overflow:auto;}
button{background:#25D366;color:#fff;font-weight:bold;border:none;border-radius:5px;cursor:pointer;}
section{background:#fff;padding:10px;border-radius:10px;margin-bottom:15px;box-shadow:0 2px 8px rgba(0,0,0,0.1);}
h1,h2{margin:10px 0;}
</style>
</head>
<body>

<h1>üìÑ CV / Lettre de Motivation</h1>

<section>
<h2>Nom et Profession</h2>
<input type="text" id="fullName" placeholder="Nom complet">
<input type="text" id="profession" placeholder="Profession / poste">
</section>

<section>
<h2>Informations CV</h2>
<input type="text" id="prenom" placeholder="Pr√©nom">
<input type="number" id="age" placeholder="√Çge">
<input type="text" id="ville" placeholder="Ville">
<input type="text" id="quartier" placeholder="Quartier">
<input type="text" id="situation" placeholder="Situation matrimoniale">
<input type="number" id="enfants" placeholder="Nombre d'enfants">
<input type="text" id="poste" placeholder="Dernier poste occup√©">
<input type="text" id="loisirs" placeholder="Loisirs">
<input type="text" id="caractere" placeholder="Caract√®re">
<input type="text" id="diplome" placeholder="Dernier dipl√¥me">
<input type="text" id="etablissement" placeholder="Dernier √©tablissement">
<input type="text" id="alcool" placeholder="Alcoolique Oui/Non">
<input type="number" id="salaire" placeholder="Salaire">
<input type="email" id="email" placeholder="Email">
<input type="tel" id="telMtn" placeholder="Num√©ro MTN">
<input type="tel" id="telOrange" placeholder="Num√©ro Orange/Camtel">
</section>

<section>
<h2>Lettre de Motivation ‚úâÔ∏è</h2>
<input type="text" id="prenomLetter" placeholder="Pr√©nom">
<input type="text" id="nomLetter" placeholder="Nom">
<input type="text" id="entreprise" placeholder="Entreprise">
<input type="text" id="posteLetter" placeholder="Poste souhait√©">
<textarea id="contenu" placeholder="Contenu de la lettre"></textarea>
</section>

<section>
<h2>Plan de localisation üó∫Ô∏è</h2>
<textarea id="plan" placeholder="R√©digez votre plan de localisation ici"></textarea>
</section>

<button id="shareBtn">üì§ Partager sur WhatsApp</button>

<script>
function getValue(id){ return document.getElementById(id)?.value || ""; }

document.getElementById("shareBtn").addEventListener("click", ()=>{
    const fullName = getValue("fullName");
    const profession = getValue("profession");
    const prenom = getValue("prenom");
    const age = getValue("age");
    const ville = getValue("ville");
    const quartier = getValue("quartier");
    const situation = getValue("situation");
    const enfants = getValue("enfants");
    const poste = getValue("poste");
    const loisirs = getValue("loisirs");
    const caractere = getValue("caractere");
    const diplome = getValue("diplome");
    const etablissement = getValue("etablissement");
    const alcool = getValue("alcool");
    const salaire = getValue("salaire");
    const email = getValue("email");
    const telMtn = getValue("telMtn");
    const telOrange = getValue("telOrange");
    
    const prenomLetter = getValue("prenomLetter");
    const nomLetter = getValue("nomLetter");
    const entreprise = getValue("entreprise");
    const posteLetter = getValue("posteLetter");
    const contenu = getValue("contenu");
    
    const plan = getValue("plan");

    const message = `üìÑ *${fullName}* (_${profession}_)

*Pr√©nom:* ${prenom}
*√Çge:* ${age}
*Ville:* ${ville}
*Quartier:* ${quartier}
*Situation:* ${situation}
*Enfants:* ${enfants}
*Dernier poste:* ${poste}
*Loisirs:* ${loisirs}
*Caract√®re:* ${caractere}
*Dipl√¥me:* ${diplome}
*√âtablissement:* ${etablissement}
*Alcoolique:* ${alcool}
*Salaire:* ${salaire}
*Email:* ${email}
*Tel MTN:* ${telMtn}
*Tel Orange:* ${telOrange}

‚úâÔ∏è *Lettre de Motivation*
*Pr√©nom:* ${prenomLetter}
*Nom:* ${nomLetter}
*Entreprise:* ${entreprise}
*Poste souhait√©:* ${posteLetter}
*Contenu:*
${contenu}

üó∫Ô∏è *Plan de localisation*
${plan}`;

    const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
    window.open(url, "_blank");
});
</script>

<script>
if('serviceWorker' in navigator){
  window.addEventListener('load', ()=>{
    navigator.serviceWorker.register('sw.js')
    .then(reg => console.log('Service Worker enregistr√©'))
    .catch(err => console.log('Erreur SW:', err));
  });
}
</script>

</body>
</html>