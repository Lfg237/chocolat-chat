<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prototype WhatsApp</title>
<style>
  body { font-family: Arial, sans-serif; background:#f0f8ff; padding:20px; }
  section { background:#fff; margin-bottom:20px; padding:15px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
  h2 { margin-bottom:10px; }
  .photo-preview { width:100px; height:100px; border:2px dashed #999; display:flex; align-items:center; justify-content:center; margin-bottom:10px; background:#fafafa; border-radius:50%; overflow:hidden; }
  .photo-preview img { width:100%; height:100%; object-fit:cover; }
  label { display:block; font-weight:bold; margin-top:10px; }
  input, textarea { width:100%; padding:8px; border:1px solid #ccc; border-radius:6px; }
  button { margin-top:15px; padding:10px; border:none; background:#25d366; color:#fff; font-weight:bold; border-radius:8px; cursor:pointer; }
</style>
</head>
<body>

<section>
  <h2>üëî CV</h2>
  <div class="photo-preview" id="photoPreview">Photo</div>
  <input type="file" id="photoInput" accept="image/*">
  <label>Nom</label>
  <input type="text" id="nom">
  <label>Profession</label>
  <input type="text" id="profession">
  <label>Pr√©nom</label>
  <input type="text" id="prenom">
  <label>√Çge</label>
  <input type="text" id="age">
  <label>Ville</label>
  <input type="text" id="ville">
</section>

<section style="background:#e6ffe6">
  <h2>‚úçÔ∏è Lettre de Motivation</h2>
  <label>Nom</label><input type="text" id="nomLetter">
  <label>Entreprise</label><input type="text" id="entreprise">
  <label>Poste</label><input type="text" id="posteLetter">
  <label>Contenu</label><textarea id="contenu"></textarea>
</section>

<section style="background:#ffe6f0">
  <h2>üìç Plan de Localisation</h2>
  <textarea id="plan"></textarea>
</section>

<button onclick="shareWhatsApp()">üì§ Partager sur WhatsApp</button>

<script>
let photoData = "";

document.getElementById("photoInput").addEventListener("change", function(e){
  const file = e.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = function(ev){
      photoData = ev.target.result;
      document.getElementById("photoPreview").innerHTML = '<img src="'+photoData+'">';
    }
    reader.readAsDataURL(file);
  }
});

function shareWhatsApp(){
  const nom = document.getElementById("nom").value || "";
  const profession = document.getElementById("profession").value || "";
  const prenom = document.getElementById("prenom").value || "";
  const age = document.getElementById("age").value || "";
  const ville = document.getElementById("ville").value || "";

  const nomLetter = document.getElementById("nomLetter").value || "";
  const entreprise = document.getElementById("entreprise").value || "";
  const posteLetter = document.getElementById("posteLetter").value || "";
  const contenu = document.getElementById("contenu").value || "";

  const plan = document.getElementById("plan").value || "";

  let message = 
`üëî *CV*
*${nom}*
_${profession}_

Pr√©nom: ${prenom}
√Çge: ${age}
Ville: ${ville}

‚úçÔ∏è *Lettre de Motivation*
Nom: ${nomLetter}
Entreprise: ${entreprise}
Poste: ${posteLetter}
Contenu: ${contenu}

üìç *Plan de Localisation*
${plan}`;

  if(photoData){
    message += `\n\nüñºÔ∏è Photo: (copier/coller ce lien dans le navigateur)\n${photoData}`;
  }

  window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, "_blank");
}
</script>
</body>
</html>