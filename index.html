<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CV / Lettre / Plan</title>
<style>
body {font-family: 'Segoe UI', Arial, sans-serif; background: #e0f7fa; margin: 0; padding: 10px;}
h1 {text-align: center; color: #00695c; font-size: 28px; margin-bottom: 20px;}
section {padding: 15px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.15);}
#cvDoc {background: #fff3e0; border-left: 8px solid #ff6f00;}
#lettreDoc {background: #e8f5e9; border-left: 8px solid #43a047;}
#planDoc {background: #e3f2fd; border-left: 8px solid #1e88e5;}
h2 {color: #424242; font-size: 22px; margin-bottom: 10px;}
input, textarea {width: 100%; padding: 8px; margin: 5px 0; border: 2px solid #1e88e5; border-radius: 8px; font-size: 14px; box-sizing: border-box;}
button.primary {background: linear-gradient(45deg,#00c853,#b2ff59); color: #fff; font-weight: bold; border: none; padding: 10px; border-radius: 8px; margin-top: 5px; cursor:pointer;}
.cv-container {display:flex; align-items:flex-start; gap:10px;}
.cv-photo-preview {width:100px; height:100px; border: 2px dashed #ff6f00; border-radius:50%; background-size:cover; background-position:center; display:flex; align-items:center; justify-content:center; color:#ff6f00; font-size:12px; font-weight:bold;}
.cv-text {flex:1;}
canvas.signature-canvas {border:2px solid #43a047; border-radius:5px; width:100%; height:80px;}
#popupOverlay {display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:9999;}
#popup {border:3px solid #1e88e5; background:#fffde7; padding:15px; border-radius:10px; width:100%; max-width:400px;}
.error {color:#b00020;}
.success {color:#006400;}
.flex-row {display:flex; justify-content:space-between; align-items:center; margin-top:5px;}
</style>
</head>
<body>
<h1>📄 Mes Documents</h1>

<!-- CV -->
<section id="cvDoc">
<h2>CV</h2>
<div class="cv-container">
  <div class="cv-photo-preview" id="cvPhotoPreview">Importer photo</div>
  <div class="cv-text">
    <input id="cvPrenom" placeholder="Prénom">
    <input id="cvNom" placeholder="Nom">
    <input id="cvAge" placeholder="Âge">
    <input id="cvVille" placeholder="Ville">
    <input id="cvQuartier" placeholder="Quartier">
    <input id="cvSituation" placeholder="Situation matrimoniale">
    <input id="cvEnfants" placeholder="Nombre d'enfants">
    <input id="cvPoste" placeholder="Dernier poste">
    <input id="cvLoisirs" placeholder="Loisirs">
    <input id="cvCaractere" placeholder="Caractère">
    <input id="cvDiplome" placeholder="Dernier diplôme">
    <input id="cvEtablissement" placeholder="Établissement">
    <input id="cvAlcool" placeholder="Alcoolique Oui/Non">
    <input id="cvSalaire" placeholder="Salaire">
    <input id="cvEmail" placeholder="Email">
    <input id="cvTelMtn" placeholder="Tel MTN">
    <input id="cvTelOrange" placeholder="Tel Orange">
  </div>
</div>
<canvas id="cvCanvas" class="signature-canvas"></canvas>
<div class="flex-row">
  <button class="primary" onclick="openPaymentPopup('cvDoc','pdf')">📄 Télécharger PDF</button>
  <button class="primary" onclick="openPaymentPopup('cvDoc','word')">📝 Télécharger Word</button>
</div>
</section>

<!-- Lettre -->
<section id="lettreDoc">
<h2>✉️ Lettre de Motivation</h2>
<input id="lettrePrenom" placeholder="Prénom">
<input id="lettreNom" placeholder="Nom">
<input id="lettreEntreprise" placeholder="Entreprise">
<input id="lettrePoste" placeholder="Poste souhaité">
<textarea id="lettreContenu" placeholder="Contenu de la lettre"></textarea>
<canvas id="lettreCanvas" class="signature-canvas"></canvas>
<div class="flex-row">
  <button class="primary" onclick="openPaymentPopup('lettreDoc','pdf')">📄 Télécharger PDF</button>
  <button class="primary" onclick="openPaymentPopup('lettreDoc','word')">📝 Télécharger Word</button>
</div>
</section>

<!-- Plan -->
<section id="planDoc">
<h2>🗺️ Plan de Localisation</h2>
<textarea id="planContenu" placeholder="Saisir le plan de localisation"></textarea>
<canvas id="planCanvas" class="signature-canvas"></canvas>
<div class="flex-row">
  <button class="primary" onclick="openPaymentPopup('planDoc','pdf')">📄 Télécharger PDF</button>
  <button class="primary" onclick="openPaymentPopup('planDoc','word')">📝 Télécharger Word</button>
</div>
</section>

<!-- Popup paiement -->
<div id="popupOverlay">
  <div id="popup">
    <h2>Paiement requis</h2>
    <p>Bénéficiaire: Wirnkar Loveline</p>
    <p>Numéros: MTN 676353859 / Orange 640647072</p>
    <p>Montant unitaire: 100 FCFA / heure</p>
    <div class="flex-row">
      <label>Multiplier: <span id="multiplierDisplay">1</span></label>
      <button onclick="incrementMultiplier()">+</button>
      <button onclick="decrementMultiplier()">-</button>
    </div>
    <p>Total: <span id="totalAmount">100</span> FCFA</p>
    <textarea id="momoMsg" placeholder="Message Mobile Money"></textarea>
    <input id="transactionId" placeholder="ID de transaction">
    <input id="adminCode" type="password" placeholder="Code admin">
    <div id="popupResult"></div>
    <p>Temps restant: <span id="remainingTime">0 min</span></p>
    <div class="flex-row">
      <button class="primary" onclick="validatePayment()">✅ Valider</button>
      <button onclick="closePopup()">Annuler</button>
    </div>
  </div>
</div>