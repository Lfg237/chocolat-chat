<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tableau Utilisateurs</title>
<style>
body{font-family:Arial,sans-serif;background:#f0f8ff;margin:0;padding:0;}
.page{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;overflow-y:auto;border-bottom:2px solid #ccc;}
h1,h2{margin:10px 0;}
.paper{background:white;padding:20px;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.1);max-width:600px;width:100%;}
button{padding:10px 16px;border:none;border-radius:5px;background:#25D366;color:white;font-weight:bold;cursor:pointer;margin-top:10px;}
</style>
</head>
<body>

<!-- Page CV -->
<div class="page" id="pageCV">
  <h1>📄 CV</h1>
  <div class="paper" id="cvSection">
    <p><b>Prénom:</b> Alice</p>
    <p><b>Âge:</b> 28</p>
    <p><b>Ville:</b> Paris</p>
    <p><b>Dernier poste:</b> Frontend</p>
    <p><b>Email:</b> alice@example.com</p>
  </div>
  <button id="btnDownloadCV">📥 Télécharger CV PDF</button>
</div>

<!-- Page Lettre de Motivation -->
<div class="page" id="pageLettre">
  <h1>✉️ Lettre de Motivation</h1>
  <div class="paper" id="lettreSection">
    <p><b>Prénom:</b> Alice</p>
    <p><b>Nom:</b> Dupont</p>
    <p><b>Entreprise:</b> TechCorp</p>
    <p><b>Poste:</b> Ingénieur</p>
    <p><b>Contenu:</b> Motivation pour rejoindre TechCorp.</p>
  </div>
  <button id="btnDownloadLettre">📥 Télécharger Lettre PDF</button>
</div>

<!-- Page Plan de Localisation -->
<div class="page" id="pagePlan">
  <h1>🗺️ Plan de Localisation</h1>
  <div class="paper" id="planSection">
    <p><b>Plan:</b> 123 Rue de Paris</p>
  </div>
  <button id="btnDownloadPlan">📥 Télécharger Plan PDF</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const { jsPDF } = window.jspdf;

function downloadPDFFromElement(element, filename){
  html2canvas(element,{scale:2,useCORS:true}).then(canvas=>{
    const imgData=canvas.toDataURL('image/png');
    const pdf=new jsPDF('p','mm','a4');
    const pdfWidth=pdf.internal.pageSize.getWidth();
    const pdfHeight=(canvas.height*pdfWidth)/canvas.width;
    pdf.addImage(imgData,'PNG',0,0,pdfWidth,pdfHeight);
    pdf.save(filename);
  });
}

document.getElementById('btnDownloadCV').onclick = () => downloadPDFFromElement(document.getElementById('cvSection'), 'CV_Alice.pdf');
document.getElementById('btnDownloadLettre').onclick = () => downloadPDFFromElement(document.getElementById('lettreSection'), 'Lettre_Alice.pdf');
document.getElementById('btnDownloadPlan').onclick = () => downloadPDFFromElement(document.getElementById('planSection'), 'Plan_Alice.pdf');
</script>

</body>
</html>