<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CV et Lettre de Motivation</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f0f5;
    padding: 20px;
  }
  .document {
    background: #fff;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  }
  .cv { background-color: #e0f7fa; }
  .lettre { background-color: #fff3e0; }
  .plan { background-color: #f3e5f5; }
  h2 { margin-top: 0; }
  .field-label { font-weight: bold; display: block; margin-top: 10px; }
  input, textarea {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 14px;
    box-sizing: border-box;
  }
  textarea { resize: vertical; min-height: 60px; }
  button {
    padding: 10px 20px;
    margin-top: 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    background-color: #2196f3;
    color: white;
  }
  button:disabled { background-color: #90caf9; cursor: not-allowed; }
  .photo-preview {
    margin-top: 10px;
    max-width: 150px;
    max-height: 150px;
    border-radius: 5px;
    border: 1px solid #ccc;
  }
  /* Popup paiement */
  .popup-bg {
    position: fixed;
    top: 0;
    left: 0;
    right:0;
    bottom:0;
    background: rgba(0,0,0,0.6);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .popup {
    background: #fff;
    padding: 20px;
    width: 90%;
    max-width: 400px;
    border-radius: 10px;
    text-align: center;
  }
  .popup input { margin-top: 10px; }
</style>
</head>
<body>

<div class="document cv">
  <h2>üëî CV</h2>
  <label class="field-label">Nom:</label>
  <input type="text" id="cvNom" placeholder="Nom complet">
  <small>Profession (optionnel)</small>
  <input type="text" id="cvProfession" placeholder="Poste souhait√©">
  
  <label class="field-label">Pr√©nom:</label>
  <input type="text" id="cvPrenom" placeholder="Pr√©nom">
  
  <label class="field-label">√Çge:</label>
  <input type="text" id="cvAge" placeholder="√Çge">
  
  <label class="field-label">Ville:</label>
  <input type="text" id="cvVille" placeholder="Ville">
  
  <label class="field-label">T√©l√©charger une photo:</label>
  <input type="file" id="cvPhoto" accept="image/*">
  <img id="photoPreview" class="photo-preview" src="" alt="" style="display:none;">
</div>

<div class="document lettre">
  <h2>‚úçÔ∏è Lettre de Motivation</h2>
  <label class="field-label">Nom:</label>
  <input type="text" id="lmNom" placeholder="Nom">
  <label class="field-label">Entreprise:</label>
  <input type="text" id="lmEntreprise" placeholder="Entreprise">
  <label class="field-label">Poste:</label>
  <input type="text" id="lmPoste" placeholder="Poste souhait√©">
  <label class="field-label">Contenu:</label>
  <textarea id="lmContenu" placeholder="R√©digez votre lettre de motivation ici"></textarea>
</div>

<div class="document plan">
  <h2>üìç Plan de Localisation</h2>
  <label class="field-label">Localisation:</label>
  <textarea id="planLocalisation" placeholder="Indiquez votre localisation"></textarea>
</div>

<button id="btnShare">Partager sur WhatsApp</button>

<!-- Popup Paiement -->
<div class="popup-bg" id="popupPaiement">
  <div class="popup">
    <h3>üí∞ Paiement requis</h3>
    <p>B√©n√©ficiaire: WIRNKAR LOVELINE</p>
    <p>Num√©ro: 676353859</p>
    <p>Montant: 25 FCFA</p>
    <input type="text" id="msgMobileMoney" placeholder="Message Mobile Money">
    <input type="text" id="codeAdmin" placeholder="Code Administrateur">
    <button id="btnValider">Valider</button>
    <button onclick="fermerPopup()">Annuler</button>
  </div>
</div>

<script>
  const photoInput = document.getElementById('cvPhoto');
  const photoPreview = document.getElementById('photoPreview');
  photoInput.addEventListener('change', function() {
    const file = this.files[0];
    if(file){
      const reader = new FileReader();
      reader.onload = function(e){
        photoPreview.src = e.target.result;
        photoPreview.style.display = 'block';
      }
      reader.readAsDataURL(file);
    }
  });

  const popup = document.getElementById('popupPaiement');
  const btnShare = document.getElementById('btnShare');
  const btnValider = document.getElementById('btnValider');

  btnShare.addEventListener('click', () => {
    popup.style.display = 'flex';
  });

  function fermerPopup() {
    popup.style.display = 'none';
  }

  btnValider.addEventListener('click', () => {
    const msg = document.getElementById('msgMobileMoney').value.trim();
    const code = document.getElementById('codeAdmin').value.trim();
    if(code === "233233") {
      alert("Acc√®s administrateur valid√©. T√©l√©chargement possible.");
      fermerPopup();
      // Ici vous pouvez lancer le t√©l√©chargement direct ou le partage
      partagerWhatsApp();
    } else if(msg.includes("14101710093")) { // Exemple de v√©rification ID Mobile Money
      alert("Paiement confirm√©. Partage autoris√©.");
      fermerPopup();
      partagerWhatsApp();
    } else {
      alert("Informations incorrectes ou d√©lai d√©pass√© !");
    }
  });

  function partagerWhatsApp() {
    const message = `
üëî CV
Nom: ${document.getElementById('cvNom').value} (${document.getElementById('cvProfession').value})
Pr√©nom: ${document.getElementById('cvPrenom').value}
√Çge: ${document.getElementById('cvAge').value}
Ville: ${document.getElementById('cvVille').value}

‚úçÔ∏è Lettre de Motivation
Nom: ${document.getElementById('lmNom').value}
Entreprise: ${document.getElementById('lmEntreprise').value}
Poste: ${document.getElementById('lmPoste').value}
Contenu: ${document.getElementById('lmContenu').value}

üìç Plan de Localisation
${document.getElementById('planLocalisation').value}

üñºÔ∏è Photo: ${photoPreview.src || "Aucune photo"}
`;
    const url = "https://wa.me/?text=" + encodeURIComponent(message);
    window.open(url, "_blank");
  }
</script>
</body>
</html>